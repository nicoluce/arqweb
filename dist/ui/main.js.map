{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/add-marker-form/add-marker-form.component.html","webpack:///./src/app/add-marker-form/add-marker-form.component.sass","webpack:///./src/app/add-marker-form/add-marker-form.component.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.sass","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/category-suggestions/category-suggestions.component.html","webpack:///./src/app/category-suggestions/category-suggestions.component.sass","webpack:///./src/app/category-suggestions/category-suggestions.component.ts","webpack:///./src/app/domain/category-suggestion.ts","webpack:///./src/app/domain/category.ts","webpack:///./src/app/domain/point-of-interest.ts","webpack:///./src/app/domain/user.ts","webpack:///./src/app/edit-category/edit-category.component.html","webpack:///./src/app/edit-category/edit-category.component.sass","webpack:///./src/app/edit-category/edit-category.component.ts","webpack:///./src/app/edit-poi/edit-poi.component.html","webpack:///./src/app/edit-poi/edit-poi.component.sass","webpack:///./src/app/edit-poi/edit-poi.component.ts","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.sass","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/map/map.component.html","webpack:///./src/app/map/map.component.sass","webpack:///./src/app/map/map.component.ts","webpack:///./src/app/material/material.module.ts","webpack:///./src/app/navigation-toolbar/navigation-toolbar.component.html","webpack:///./src/app/navigation-toolbar/navigation-toolbar.component.sass","webpack:///./src/app/navigation-toolbar/navigation-toolbar.component.ts","webpack:///./src/app/new-category-suggestion-form/new-category-suggestion-form.component.html","webpack:///./src/app/new-category-suggestion-form/new-category-suggestion-form.component.sass","webpack:///./src/app/new-category-suggestion-form/new-category-suggestion-form.component.ts","webpack:///./src/app/poi-filter/poi-filter.component.html","webpack:///./src/app/poi-filter/poi-filter.component.sass","webpack:///./src/app/poi-filter/poi-filter.component.ts","webpack:///./src/app/service/auth-guard.service.ts","webpack:///./src/app/service/login.service.ts","webpack:///./src/app/service/poi.service.ts","webpack:///./src/app/sidenav/sidenav.component.html","webpack:///./src/app/sidenav/sidenav.component.sass","webpack:///./src/app/sidenav/sidenav.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<mat-card>\\r\\n  <mat-card-header>\\r\\n    <mat-card-title>New marker</mat-card-title>\\r\\n  </mat-card-header>\\r\\n\\r\\n  <form [formGroup]=\\\"addPOIForm\\\" (ngSubmit)=\\\"addPOI(addPOIForm.value)\\\" fxLayout=\\\"column\\\" fxFlex=\\\"80%\\\" fxFlex.lt-md=\\\"100%\\\"\\r\\n  >\\r\\n    <mat-card-content fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-between center\\\" fxLayoutGap=\\\"20px\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput type=\\\"text\\\" placeholder=\\\"Title\\\" required formControlName=\\\"title\\\">\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <mat-select placeholder=\\\"Category\\\" required formControlName=\\\"category\\\">\\r\\n          <mat-option *ngFor=\\\"let category of availableCategories\\\" [value]=\\\"category.name.toLowerCase()\\\">\\r\\n            {{category.name | titlecase}}\\r\\n          </mat-option>\\r\\n        </mat-select>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <textarea matInput placeholder=\\\"Description\\\" formControlName=\\\"description\\\"></textarea>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <!--<mat-form-field>-->\\r\\n        <!--<mat-select placeholder=\\\"Type\\\" required formControlName=\\\"type\\\">-->\\r\\n          <!--<mat-option *ngFor=\\\"let type of poiService.availableTypes\\\" [value]=\\\"type\\\">-->\\r\\n            <!--{{type | titlecase}}-->\\r\\n          <!--</mat-option>-->\\r\\n        <!--</mat-select>-->\\r\\n      <!--</mat-form-field>-->\\r\\n\\r\\n      <mat-card-content fxLayoutAlign=\\\"space-between center\\\" fxLayoutGap=\\\"20px\\\">\\r\\n        <mat-form-field>\\r\\n          <input matInput type=\\\"text\\\" required formControlName=\\\"lat\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n        <mat-form-field>\\r\\n          <input matInput type=\\\"text\\\" required formControlName=\\\"long\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n      </mat-card-content>\\r\\n\\r\\n      <label><b>Add Picture</b></label>\\r\\n      <input type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"onFileChange($event)\\\" #fileInput>\\r\\n\\r\\n    </mat-card-content>\\r\\n\\r\\n    <mat-card-actions align=\\\"center\\\">\\r\\n      <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!addPOIForm.valid\\\">Add</button>\\r\\n      <button mat-raised-button color=\\\"warn\\\" (click)=\\\"cancelNewPOI()\\\">Cancel</button>\\r\\n    </mat-card-actions>\\r\\n\\r\\n  </form>\\r\\n</mat-card>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZC1tYXJrZXItZm9ybS9hZGQtbWFya2VyLWZvcm0uY29tcG9uZW50LnNhc3MifQ== */\"","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\r\nimport {Image, PointOfInterest} from \"../domain/point-of-interest\";\r\nimport {Marker} from \"leaflet\";\r\nimport {PoiService} from \"../service/poi.service\";\r\nimport {Category} from \"../domain/category\";\r\nimport {__await} from \"tslib\";\r\nimport {promise} from \"selenium-webdriver\";\r\n\r\n@Component({\r\n  selector: 'app-add-marker-form',\r\n  templateUrl: './add-marker-form.component.html',\r\n  styleUrls: ['./add-marker-form.component.sass']\r\n})\r\nexport class AddMarkerFormComponent implements OnInit {\r\n\r\n  @Input() marker: Marker;\r\n  addPOIForm: FormGroup;\r\n  newPOI: PointOfInterest;\r\n  @Output() addedPOI: EventEmitter<any> = new EventEmitter();\r\n  @Output() cancelPOI: EventEmitter<any> = new EventEmitter();\r\n  private availableCategories: Category[];\r\n\r\n  private poiService: PoiService;\r\n\r\n  constructor(poiService: PoiService) {\r\n    this.poiService = poiService;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.addPOIForm = AddMarkerFormComponent.defaultForm(0, 0); //Placeholder\r\n    this.poiService.getCategories().subscribe(\r\n      (categories: Category[]) => {\r\n        this.availableCategories = categories;\r\n      }\r\n    );\r\n  }\r\n\r\n  //Resets the form to track the newest marker\r\n  public resetPOIForm() {\r\n    //Subscribe to marker events to update form accordingly\r\n    this.marker.on('add move drag dragEnd', function () {\r\n      let newLatLng = this.formComponent.marker.getLatLng();\r\n      this.formComponent.addPOIForm.setControl(\"lat\", new FormControl(newLatLng.lat));\r\n      this.formComponent.addPOIForm.setControl(\"long\", new FormControl(newLatLng.lng));\r\n    }, {formComponent: this});\r\n\r\n    let latLng = this.marker.getLatLng();\r\n    this.addPOIForm = AddMarkerFormComponent.defaultForm(latLng.lat, latLng.lng);\r\n\r\n  }\r\n\r\n  static defaultForm(lat: number, long: number): FormGroup {\r\n    return new FormGroup({\r\n      title: new FormControl('', [Validators.required, Validators.maxLength(60)]),\r\n      category: new FormControl('', [Validators.required, Validators.maxLength(60)]),\r\n      description: new FormControl(''),\r\n      lat: new FormControl(lat),\r\n      long: new FormControl(long),\r\n      picture: new FormGroup({\r\n        name: new FormControl(''),\r\n        contentType: new FormControl(''),\r\n        data: new FormControl('')\r\n        }\r\n      )\r\n    })\r\n  }\r\n\r\n  onFileChange(event) {\r\n    let reader = new FileReader();\r\n    if(event.target.files && event.target.files.length > 0) {\r\n      let file = event.target.files[0];\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        this.addPOIForm.get('picture').setValue({\r\n          name: file.name,\r\n          contentType: file.type,\r\n          data: (<string>reader.result).split(',')[1]\r\n        })\r\n      };\r\n    }\r\n  }\r\n\r\n  //Argument has same fields as control group\r\n  addPOI(newPoiForm: any) {\r\n    let latLng = this.marker.getLatLng();\r\n    let formPicture = newPoiForm.picture;\r\n    let picture = new Image(formPicture.data, formPicture.name, formPicture.contentType);\r\n    this.createPOI(newPoiForm.title, newPoiForm.category,\r\n      newPoiForm.description, latLng.lat, latLng.lng, picture);\r\n  }\r\n\r\n  createPOI(title: string, category: string, description: string,\r\n            lat: number, long: number, picture: Image) {\r\n    this.poiService.getCategory(category).subscribe(\r\n      (category: Category[]) => {\r\n        let newPOI = new PointOfInterest();\r\n        newPOI.title = title;\r\n        newPOI.category = category[0];\r\n        newPOI.description = description;\r\n        newPOI.lat = lat;\r\n        newPOI.long = long;\r\n        newPOI.picture = picture;\r\n        newPOI.hidden = false;\r\n        this.newPOI = newPOI;\r\n        this.saveNewPOI();\r\n\r\n        //Inform map of save event\r\n        this.addedPOI.emit(this.newPOI);\r\n      }\r\n    );\r\n  }\r\n\r\n  cancelNewPOI() {\r\n    this.cancelPOI.emit(null);\r\n  }\r\n\r\n  saveNewPOI(){\r\n    this.poiService.savePOI(this.newPOI).subscribe();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {MapComponent} from \"./map/map.component\";\r\nimport {LoginComponent} from \"./login/login.component\";\r\nimport {AuthGuardService} from \"./service/auth-guard.service\";\r\nimport {EditPoiComponent} from \"./edit-poi/edit-poi.component\";\r\nimport {EditCategoryComponent} from \"./edit-category/edit-category.component\";\r\nimport {NewCategorySuggestionFormComponent} from \"./new-category-suggestion-form/new-category-suggestion-form.component\";\r\nimport {CategorySuggestionsComponent} from \"./category-suggestions/category-suggestions.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/map', pathMatch: 'full'},\r\n  { path: 'map', component: MapComponent, canActivate: [AuthGuardService] },\r\n  { path: 'login', component: LoginComponent, canActivate: [AuthGuardService] },\r\n  { path: 'suggestion', children: [\r\n      {\r\n        path: 'category', children: [\r\n          {\r\n            path: 'new', component: NewCategorySuggestionFormComponent\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  { path: 'administration', children: [\r\n      {\r\n        path: 'edit', canActivateChild: [AuthGuardService], children: [\r\n          {\r\n            path: 'poi', component: EditPoiComponent\r\n          },\r\n          {\r\n            path: 'category', component: EditCategoryComponent\r\n          },\r\n          {\r\n            path: '', redirectTo: '/map', pathMatch: 'full'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        path: 'suggestion', canActivateChild: [AuthGuardService], children: [\r\n          {\r\n            path: 'category', children: [\r\n              {\r\n                path: 'new', component: CategorySuggestionsComponent\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        path: '', redirectTo: '/map', pathMatch: 'full'\r\n      }\r\n    ]\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"<head>\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\\\" integrity=\\\"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\\\" crossorigin=\\\"anonymous\\\">\\r\\n</head>\\r\\n\\r\\n<mat-sidenav-container>\\r\\n  <mat-sidenav #sidenav role=\\\"navigation\\\">\\r\\n    <app-sidenav (sidenavClose)=\\\"sidenav.toggle()\\\"></app-sidenav>\\r\\n  </mat-sidenav>\\r\\n  <mat-sidenav-content>\\r\\n    <app-navigation-toolbar (sidenavToggled)=\\\"sidenav.toggle()\\\"></app-navigation-toolbar>\\r\\n    <router-outlet></router-outlet>\\r\\n  </mat-sidenav-content>\\r\\n</mat-sidenav-container>\\r\\n\\r\\n\"","module.exports = \".mat-sidenav-container, .mat-sidenav-content, .mat-sidenav {\\n  height: 100%; }\\n\\n.mat-sidenav {\\n  width: 250px; }\\n\\n.html, .body {\\n  margin: 0;\\n  height: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXFVzZXJzXFxubHVjZVxcRG9jdW1lbnRzXFxHb1xcc3JjXFxnaXRodWIuY29tXFxuaWNvbHVjZVxcYXJxd2ViL3NyY1xcYXBwXFxhcHAuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZLEVBQUE7O0FBR2Q7RUFDRSxZQUFZLEVBQUE7O0FBRWQ7RUFDRSxTQUFTO0VBQ1QsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zYXNzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1zaWRlbmF2LWNvbnRhaW5lciwgLm1hdC1zaWRlbmF2LWNvbnRlbnQsIC5tYXQtc2lkZW5hdiB7XG4gIGhlaWdodDogMTAwJTsgfVxuXG5cbi5tYXQtc2lkZW5hdiB7XG4gIHdpZHRoOiAyNTBweDsgfVxuXG4uaHRtbCwgLmJvZHkge1xuICBtYXJnaW46IDA7XG4gIGhlaWdodDogMTAwJTsgfVxuXG4iXX0= */\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.sass']\r\n})\r\nexport class AppComponent {\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport {LeafletModule} from \"@asymmetrik/ngx-leaflet\";\r\nimport { MapComponent } from './map/map.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport {MatButtonModule, MatCardModule, MatFormFieldModule, MatInputModule, MatSelectModule} from \"@angular/material\";\r\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\r\nimport {MaterialModule} from \"./material/material.module\";\r\nimport {FlexLayoutModule} from \"@angular/flex-layout\";\r\nimport { AddMarkerFormComponent } from './add-marker-form/add-marker-form.component';\r\nimport {HttpClientModule} from \"@angular/common/http\";\r\nimport {POIFilterComponent} from \"./poi-filter/poi-filter.component\";\r\nimport { LoginComponent } from './login/login.component';\r\nimport { NavigationToolbarComponent } from './navigation-toolbar/navigation-toolbar.component';\r\nimport { SidenavComponent } from './sidenav/sidenav.component';\r\nimport { EditPoiComponent } from './edit-poi/edit-poi.component';\r\nimport { EditCategoryComponent } from './edit-category/edit-category.component';\r\nimport {IconPickerModule} from \"ngx-icon-picker\";\r\nimport { NewCategorySuggestionFormComponent } from './new-category-suggestion-form/new-category-suggestion-form.component';\r\nimport { CategorySuggestionsComponent } from './category-suggestions/category-suggestions.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MapComponent,\r\n    AddMarkerFormComponent,\r\n    POIFilterComponent,\r\n    LoginComponent,\r\n    NavigationToolbarComponent,\r\n    SidenavComponent,\r\n    EditPoiComponent,\r\n    EditCategoryComponent,\r\n    NewCategorySuggestionFormComponent,\r\n    CategorySuggestionsComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    LeafletModule.forRoot(),\r\n    MaterialModule,\r\n    FlexLayoutModule,\r\n    IconPickerModule\r\n\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \"<mat-card fxLayout=\\\"column\\\">\\r\\n\\r\\n  <mat-card-title fxFlex=\\\"10%\\\">Manage categories suggestions</mat-card-title>\\r\\n\\r\\n  <mat-card-content fxLayoutAlign=\\\"center center\\\">\\r\\n\\r\\n    <mat-selection-list role=\\\"listbox\\\"\\r\\n                        [(ngModel)]=\\\"selectedSuggestions\\\">\\r\\n      <mat-list-option *ngFor=\\\"let suggestion of suggestions\\\" role=\\\"option\\\"\\r\\n                       [ngClass]=\\\"getOptionClass(suggestion)\\\" [value]=\\\"suggestion\\\">\\r\\n        <div >\\r\\n          <i class=\\\"{{suggestion.category.iconClass}}\\\" style=\\\"margin-left: 1px; margin-right: 5px;\\\"></i>\\r\\n            {{suggestion.category.name}}\\r\\n        </div>\\r\\n      </mat-list-option>\\r\\n    </mat-selection-list>\\r\\n\\r\\n  </mat-card-content>\\r\\n\\r\\n  <mat-card-actions fxLayout=\\\"row\\\" fxFlex=\\\"10%\\\" fxLayoutAlign=\\\"center center\\\">\\r\\n    <button mat-raised-button color=\\\"primary\\\" class=\\\"btn btn-success\\\"\\r\\n            [disabled]=\\\"selectedSuggestions.length == 0\\\" (click)=\\\"approve()\\\" >Approve</button>\\r\\n    <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"selectedSuggestions.length == 0\\\"\\r\\n            (click)=\\\"reject()\\\">Reject</button>\\r\\n  </mat-card-actions>\\r\\n\\r\\n</mat-card>\\r\\n\"","module.exports = \"i {\\n  margin: 1em; }\\n\\n.hidden-category {\\n  background-color: #d1cecb; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2F0ZWdvcnktc3VnZ2VzdGlvbnMvQzpcXFVzZXJzXFxubHVjZVxcRG9jdW1lbnRzXFxHb1xcc3JjXFxnaXRodWIuY29tXFxuaWNvbHVjZVxcYXJxd2ViL3NyY1xcYXBwXFxjYXRlZ29yeS1zdWdnZXN0aW9uc1xcY2F0ZWdvcnktc3VnZ2VzdGlvbnMuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXLEVBQUE7O0FBRWI7RUFDRSx5QkFBeUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NhdGVnb3J5LXN1Z2dlc3Rpb25zL2NhdGVnb3J5LXN1Z2dlc3Rpb25zLmNvbXBvbmVudC5zYXNzIiwic291cmNlc0NvbnRlbnQiOlsiaSB7XG4gIG1hcmdpbjogMWVtOyB9XG5cbi5oaWRkZW4tY2F0ZWdvcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDFjZWNiOyB9XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport {CategorySuggestion} from \"../domain/category-suggestion\";\r\nimport {PoiService} from \"../service/poi.service\";\r\nimport {MatSelectionListChange} from \"@angular/material\";\r\n\r\n@Component({\r\n  selector: 'app-category-suggestions',\r\n  templateUrl: './category-suggestions.component.html',\r\n  styleUrls: ['./category-suggestions.component.sass']\r\n})\r\nexport class CategorySuggestionsComponent implements OnInit {\r\n\r\n  private suggestions: CategorySuggestion[];\r\n  private selectedSuggestions: CategorySuggestion[];\r\n\r\n  constructor(private poiService: PoiService) { }\r\n\r\n  ngOnInit() {\r\n    this.getPendingSuggestions();\r\n\r\n    this.selectedSuggestions = [];\r\n\r\n  }\r\n\r\n  private getPendingSuggestions() {\r\n    this.poiService.getPendingCategorySuggestions().subscribe(\r\n      (pendingSuggestions: CategorySuggestion[]) => {\r\n        this.suggestions = pendingSuggestions;\r\n      }\r\n    );\r\n  }\r\n\r\n  approve() {\r\n    this.selectedSuggestions.forEach(\r\n      (suggestion: CategorySuggestion) => {\r\n        this.poiService.approveSuggestion(suggestion).subscribe(\r\n          () => this.getPendingSuggestions()\r\n        );\r\n\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  reject() {\r\n    this.selectedSuggestions.forEach(\r\n      (suggestion: CategorySuggestion) => {\r\n        this.poiService.rejectSuggestion(suggestion).subscribe(\r\n          () => this.getPendingSuggestions()\r\n\r\n        );\r\n      }\r\n    );\r\n    // this.getPendingSuggestions();\r\n\r\n  }\r\n\r\n\r\n  getOptionClass(suggestion: CategorySuggestion): string {\r\n    if (suggestion.category.hidden) {\r\n      return \"hidden-category\"\r\n    }\r\n    return \"\";\r\n  }\r\n}\r\n","import {Category} from \"./category\";\r\n\r\nexport class CategorySuggestion {\r\n  id: string;\r\n  category: Category;\r\n  status: SuggestionStatus;\r\n\r\n\r\n  constructor(category: Category, status: SuggestionStatus) {\r\n    this.category = category;\r\n    this.status = status;\r\n  }\r\n}\r\n\r\nexport enum SuggestionStatus {\r\n  APPROVED,\r\n  WAITING_FOR_APPROVAL,\r\n  REJECTED\r\n}\r\n","export class Category {\r\n  id: string;\r\n  name: string;\r\n  hidden: boolean;\r\n  iconClass: string; //FontAwesome 5 icons available\r\n\r\n\r\n  constructor(id: string, name: string, hidden: boolean, iconClass: string) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.hidden = hidden;\r\n    this.iconClass = iconClass;\r\n  }\r\n}\r\n","import {Feature} from \"geojson\";\r\nimport {Category} from \"./category\";\r\n\r\nexport class PointOfInterest {\r\n\r\n  id: string;\r\n  title: string;\r\n  category: Category;\r\n  hidden: boolean;\r\n  description: string;\r\n  lat: number;\r\n  long: number;\r\n  picture: Image; //Base64 image\r\n\r\n}\r\n\r\nexport class Image {\r\n  data: string; //Base64\r\n  name: string; //Filename\r\n  contentType: string;\r\n\r\n\r\n  constructor(data: string, name: string, contentType: string) {\r\n    this.data = data;\r\n    this.name = name;\r\n    this.contentType = contentType;\r\n  }\r\n}\r\n","export class User {\r\n  id: string;\r\n  username: string;\r\n  password: string;\r\n  isAdmin: boolean;\r\n\r\n  constructor(username: string, password: string, isAdmin: boolean) {\r\n    this.username = username;\r\n    this.password = password;\r\n    this.isAdmin = isAdmin;\r\n  }\r\n\r\n}\r\n","module.exports = \"<head>\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\\\" integrity=\\\"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\\\" crossorigin=\\\"anonymous\\\">\\r\\n</head>\\r\\n\\r\\n<mat-card>\\r\\n  <mat-card-title>Search category</mat-card-title>\\r\\n\\r\\n  <mat-card-content>\\r\\n    <form #searchForm=\\\"ngForm\\\" fxLayout=\\\"row\\\" (ngSubmit)=\\\"getCategory()\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput type=\\\"text\\\" placeholder=\\\"Name\\\" name=\\\"name\\\" required [(ngModel)]=\\\"searchCategoryName\\\">\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-action-list>\\r\\n        <button mat-raised-button color=\\\"primary\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\"\\r\\n                [disabled]=\\\"!searchForm.form.valid\\\">Search</button>\\r\\n      </mat-action-list>\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\\r\\n<mat-card *ngIf=\\\"category\\\" fxLayout=\\\"column\\\" fxLayoutGap=\\\"30px\\\" fxLayoutAlign=\\\"center center\\\">\\r\\n  <mat-card-title>Edit category</mat-card-title>\\r\\n\\r\\n  <mat-card-content>\\r\\n    <form #editCategoryForm=\\\"ngForm\\\" fxLayout fxLayoutGap=\\\"10px\\\" (ngSubmit)=\\\"updateCategory()\\\" fxFlex=\\\"80%\\\" fxFlex.lt-md=\\\"100%\\\"\\r\\n    >\\r\\n      <mat-card-content fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-between center\\\" fxLayoutGap=\\\"20px\\\">\\r\\n        <mat-form-field>\\r\\n          <input matInput type=\\\"text\\\" placeholder=\\\"Id\\\" readonly name=\\\"id\\\" [(ngModel)]=\\\"category.id\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n        <mat-form-field>\\r\\n          <input matInput type=\\\"text\\\" placeholder=\\\"Name\\\" name=\\\"name\\\" [(ngModel)]=\\\"category.name\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n\\r\\n        <div fxLayout fxLayoutGap=\\\"20px\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"category.hidden\\\" name=\\\"hidden\\\">Hide</mat-checkbox>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"input-group\\\">\\r\\n          <div class=\\\"input-group-text\\\">\\r\\n            <i [ngClass]=\\\"category.iconClass\\\"></i>\\r\\n          </div>\\r\\n          <input type=\\\"text\\\" name=\\\"iconClass\\\" class=\\\"form-control\\\" placeholder=\\\"Icon\\\"\\r\\n                 [(ngModel)]=\\\"category.iconClass\\\"\\r\\n                 [iconPicker]=\\\"category.iconClass\\\"\\r\\n                 [ipWidth]=\\\"'250px'\\\"\\r\\n                 [ipPlaceHolder]=\\\"'Search an icon'\\\"\\r\\n                 [ipPosition]=\\\"'top'\\\"\\r\\n                 [ipIconPack]=\\\"['fa5']\\\"\\r\\n                 (iconPickerSelect)=\\\"onIconPickerSelect($event)\\\">\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n        <mat-card-actions fxLayoutAlign=\\\"end\\\" align=\\\"center\\\">\\r\\n          <button mat-raised-button color=\\\"primary\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"!editCategoryForm.form.valid\\\">Apply changes</button>\\r\\n          <button mat-raised-button color=\\\"accent\\\" (click)=\\\"cancelUpdateCategory()\\\">Cancel</button>\\r\\n          <button mat-raised-button color=\\\"warn\\\" (click)=\\\"deleteCategory()\\\">Delete category</button>\\r\\n        </mat-card-actions>\\r\\n\\r\\n      </mat-card-content>\\r\\n\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\"","module.exports = \".mat-form-field {\\n  margin: 10px; }\\n\\n.mat-card {\\n  margin: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC1jYXRlZ29yeS9DOlxcVXNlcnNcXG5sdWNlXFxEb2N1bWVudHNcXEdvXFxzcmNcXGdpdGh1Yi5jb21cXG5pY29sdWNlXFxhcnF3ZWIvc3JjXFxhcHBcXGVkaXQtY2F0ZWdvcnlcXGVkaXQtY2F0ZWdvcnkuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZLEVBQUE7O0FBRWQ7RUFDRSxZQUFZLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9lZGl0LWNhdGVnb3J5L2VkaXQtY2F0ZWdvcnkuY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW46IDEwcHg7IH1cblxuLm1hdC1jYXJkIHtcbiAgbWFyZ2luOiAxMHB4OyB9XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport {PoiService} from \"../service/poi.service\";\r\nimport {Category} from \"../domain/category\";\r\n\r\n@Component({\r\n  selector: 'app-edit-category',\r\n  templateUrl: './edit-category.component.html',\r\n  styleUrls: ['./edit-category.component.sass']\r\n})\r\nexport class EditCategoryComponent implements OnInit {\r\n\r\n  private searchCategoryName: string;\r\n  private category: Category;\r\n  fallbackIcon: string =\"fas fa-question-sign\";\r\n  icon: string;\r\n\r\n  constructor(private poiService: PoiService) { }\r\n\r\n  ngOnInit() {\r\n    this.searchCategoryName = '';\r\n  }\r\n\r\n  private getCategory(): void {\r\n    this.poiService.getCategory(this.searchCategoryName).subscribe(\r\n      (category: Category[]) => {\r\n        this.category = category[0];\r\n      }\r\n    );\r\n    this.icon = this.category.iconClass;\r\n  }\r\n\r\n  private updateCategory(): void {\r\n    this.poiService.updateCategory(this.category).subscribe(\r\n      (newCategory: Category) => {\r\n        this.category = newCategory;\r\n      }\r\n    );\r\n  }\r\n\r\n  private cancelUpdateCategory(): void {\r\n    this.category = null;\r\n  }\r\n\r\n  private deleteCategory(): void {\r\n    this.poiService.deleteCategory(this.category.name).subscribe(\r\n      () => {\r\n        this.category = null;\r\n      }\r\n    );\r\n  }\r\n\r\n  onIconPickerSelect(newIcon: string) {\r\n    this.category.iconClass = newIcon\r\n  }\r\n}\r\n","module.exports = \"<mat-card>\\r\\n  <mat-card-title>Search point of interest</mat-card-title>\\r\\n\\r\\n  <mat-card-content>\\r\\n    <form #searchForm=\\\"ngForm\\\" fxLayout=\\\"row\\\" (ngSubmit)=\\\"getPOIByTitle()\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput type=\\\"text\\\" placeholder=\\\"Title\\\" name=\\\"title\\\" required [(ngModel)]=\\\"searchPOITitle\\\">\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-action-list>\\r\\n        <button mat-raised-button color=\\\"primary\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\"\\r\\n                [disabled]=\\\"!searchForm.form.valid\\\">Search</button>\\r\\n      </mat-action-list>\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\\r\\n<mat-card *ngIf=\\\"!POI && error\\\">\\r\\n  <mat-card-content>\\r\\n    <p>The point of interest you are looking for does not exist</p>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\\r\\n<mat-card *ngIf=\\\"POI\\\" fxLayout fxLayoutGap=\\\"30px\\\">\\r\\n  <mat-card-title>Edit point of interest</mat-card-title>\\r\\n\\r\\n  <mat-card-content>\\r\\n    <form #editPOIForm=\\\"ngForm\\\" fxLayout fxLayoutGap=\\\"10px\\\" (ngSubmit)=\\\"updatePOI()\\\" fxFlex=\\\"80%\\\" fxFlex.lt-md=\\\"100%\\\"\\r\\n    >\\r\\n\\r\\n      <mat-card-content fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-between center\\\" fxLayoutGap=\\\"20px\\\">\\r\\n        <mat-form-field>\\r\\n          <input matInput type=\\\"text\\\" placeholder=\\\"Title\\\" name=\\\"title\\\" required [(ngModel)]=\\\"POI.title\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n\\r\\n        <mat-form-field>\\r\\n          <mat-select placeholder=\\\"Category\\\" required name=\\\"category\\\" [(ngModel)]=\\\"POI.category.name\\\">\\r\\n            <mat-option *ngFor=\\\"let category of availableCategories\\\" value=\\\"{{category.name.toLowerCase()}}\\\">\\r\\n              {{category.name | titlecase}}\\r\\n            </mat-option>\\r\\n          </mat-select>\\r\\n        </mat-form-field>\\r\\n\\r\\n        <mat-form-field>\\r\\n          <textarea matInput placeholder=\\\"Description\\\" name=\\\"description\\\" [(ngModel)]=\\\"POI.description\\\"></textarea>\\r\\n        </mat-form-field>\\r\\n\\r\\n      </mat-card-content>\\r\\n\\r\\n      <mat-card-content fxLayout=\\\"column\\\"  fxLayoutGap=\\\"20px\\\">\\r\\n        <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\">\\r\\n          <mat-form-field>\\r\\n            <input matInput type=\\\"text\\\" placeholder=\\\"Latitude\\\" required name=\\\"lat\\\" [(ngModel)]=\\\"POI.lat\\\">\\r\\n          </mat-form-field>\\r\\n\\r\\n          <mat-form-field>\\r\\n            <input matInput type=\\\"text\\\" placeholder=\\\"Longitude\\\" required name=\\\"long\\\" [(ngModel)]=\\\"POI.long\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <mat-card-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center end\\\" fxFlex fxLayoutGap=\\\"20px\\\" align=\\\"left\\\">\\r\\n          <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!editPOIForm.form.valid\\\">Apply changes</button>\\r\\n          <button mat-raised-button color=\\\"warn\\\" (click)=\\\"cancelEditPOI()\\\">Cancel</button>\\r\\n        </mat-card-actions>\\r\\n\\r\\n      </mat-card-content>\\r\\n\\r\\n\\r\\n\\r\\n      <div fxLayout=\\\"column\\\">\\r\\n        <img *ngIf=\\\"POIPictureUrl\\\" [src]=\\\"POIPictureUrl\\\" class=\\\"picture\\\">\\r\\n        <p *ngIf=\\\"!POIPictureUrl\\\">No picture attached</p>\\r\\n        <div>\\r\\n          <input type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"onFileChange($event)\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\\r\\n\\r\\n\\r\\n\"","module.exports = \".mat-form-field {\\n  margin: 10px; }\\n\\n.mat-card {\\n  margin: 10px; }\\n\\n.picture {\\n  max-width: 75%;\\n  max-height: 75%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC1wb2kvQzpcXFVzZXJzXFxubHVjZVxcRG9jdW1lbnRzXFxHb1xcc3JjXFxnaXRodWIuY29tXFxuaWNvbHVjZVxcYXJxd2ViL3NyY1xcYXBwXFxlZGl0LXBvaVxcZWRpdC1wb2kuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZLEVBQUE7O0FBRWQ7RUFDRSxZQUFZLEVBQUE7O0FBRWQ7RUFDRSxjQUFjO0VBQ2QsZUFBZSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvZWRpdC1wb2kvZWRpdC1wb2kuY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW46IDEwcHg7IH1cblxuLm1hdC1jYXJkIHtcbiAgbWFyZ2luOiAxMHB4OyB9XG5cbi5waWN0dXJlIHtcbiAgbWF4LXdpZHRoOiA3NSU7XG4gIG1heC1oZWlnaHQ6IDc1JTsgfVxuXG4iXX0= */\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {PointOfInterest} from \"../domain/point-of-interest\";\r\nimport {PoiService} from \"../service/poi.service\";\r\nimport {DomSanitizer, SafeResourceUrl} from \"@angular/platform-browser\";\r\nimport {Image} from \"../domain/point-of-interest\";\r\nimport {Category} from \"../domain/category\";\r\n\r\n@Component({\r\n  selector: 'app-edit-poi',\r\n  templateUrl: './edit-poi.component.html',\r\n  styleUrls: ['./edit-poi.component.sass']\r\n})\r\nexport class EditPoiComponent implements OnInit {\r\n\r\n  private searchPOITitle: string;\r\n  private availableCategories: Category[];\r\n  private POI: PointOfInterest;\r\n  private POIPictureUrl;\r\n  private error: boolean;\r\n\r\n  constructor(private poiService: PoiService, private domSanitizer: DomSanitizer) { }\r\n\r\n  ngOnInit() {\r\n    this.searchPOITitle = '';\r\n    this.poiService.getCategories().subscribe(\r\n      (categories: Category[]) => {\r\n        this.availableCategories = categories;\r\n      }\r\n    );\r\n  }\r\n\r\n  getPOI() {\r\n    this.poiService.Search(this.searchPOITitle).subscribe(\r\n      (POI: PointOfInterest[]) => {\r\n        if (POI.length == 0) {\r\n          this.error = true;\r\n        } else {\r\n          this.POI = POI[0];\r\n          this.error = false;\r\n          this.updatePOIPictureUrl();\r\n        }\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  private updatePOIPictureUrl() {\r\n    if (this.POI.picture.data) {\r\n      this.POIPictureUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(\r\n        `data:${this.POI.picture.contentType};base64, ${this.POI.picture.data}`);\r\n    }\r\n  }\r\n\r\n  onFileChange(event) {\r\n    let reader = new FileReader();\r\n    if(event.target.files && event.target.files.length > 0) {\r\n      let file = event.target.files[0];\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        this.POI.picture = new Image((<string>reader.result).split(',')[1], file.name, file.type);\r\n        this.updatePOIPictureUrl();\r\n      };\r\n    }\r\n  }\r\n\r\n  getPOIByTitle() {\r\n    this.getPOI();\r\n  }\r\n\r\n  updatePOI() {\r\n    this.poiService.updatePOI(this.POI).subscribe(\r\n      () => this.getPOI\r\n    );\r\n  }\r\n\r\n  cancelEditPOI() {\r\n    this.POI = null;\r\n  }\r\n}\r\n","module.exports = \"<section fxLayoutAlign=\\\"center center\\\">\\r\\n  <mat-tab-group mat-align-tabs=\\\"center\\\" animationDuration=\\\"0ms\\\" [(selectedIndex)]=\\\"selectedTabIndex\\\">\\r\\n    <mat-tab label=\\\"Login\\\">\\r\\n      <mat-card fxFlex=\\\"500px\\\" fxLayout=\\\"column\\\"  align=\\\"center\\\" fxFlex.xs=\\\"100%\\\" style=\\\"margin: 2em\\\">\\r\\n\\r\\n        <mat-card-content>\\r\\n          <form [formGroup]=\\\"loginControl\\\" (ngSubmit)=\\\"login(loginControl.value)\\\" fxFlex fxLayout=\\\"column\\\">\\r\\n\\r\\n            <mat-form-field>\\r\\n              <input matInput type=\\\"text\\\" placeholder=\\\"Username\\\" required formControlName=\\\"username\\\">\\r\\n            </mat-form-field>\\r\\n            <mat-form-field>\\r\\n              <input matInput type=\\\"text\\\" placeholder=\\\"Password\\\" required formControlName=\\\"password\\\">\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-card-actions align=\\\"center\\\">\\r\\n              <button mat-raised-button color=\\\"primary\\\">Login</button>\\r\\n            </mat-card-actions>\\r\\n          </form>\\r\\n        </mat-card-content>\\r\\n      </mat-card>\\r\\n    </mat-tab>\\r\\n\\r\\n    <mat-tab label=\\\"Sign Up\\\">\\r\\n        <mat-card fxFlex=\\\"500px\\\" fxLayout=\\\"column\\\"  align=\\\"center\\\" fxFlex.xs=\\\"100%\\\" style=\\\"margin: 2em\\\">\\r\\n\\r\\n          <mat-card-content>\\r\\n            <form [formGroup]=\\\"signUpControl\\\" (ngSubmit)=\\\"signUp(signUpControl.value)\\\" fxFlex fxLayout=\\\"column\\\">\\r\\n\\r\\n              <mat-form-field>\\r\\n                <input matInput type=\\\"text\\\" placeholder=\\\"Username\\\" required formControlName=\\\"username\\\">\\r\\n              </mat-form-field>\\r\\n              <mat-form-field>\\r\\n                <input matInput type=\\\"text\\\" placeholder=\\\"Password\\\" required formControlName=\\\"password\\\">\\r\\n              </mat-form-field>\\r\\n\\r\\n              <mat-card-actions align=\\\"center\\\">\\r\\n                <button mat-raised-button color=\\\"primary\\\">Sign up</button>\\r\\n              </mat-card-actions>\\r\\n            </form>\\r\\n          </mat-card-content>\\r\\n        </mat-card>\\r\\n    </mat-tab>\\r\\n  </mat-tab-group>\\r\\n\\r\\n\\r\\n</section>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zYXNzIn0= */\"","import {Component, OnInit} from '@angular/core';\r\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\r\nimport {LoginService} from \"../service/login.service\";\r\nimport {User} from \"../domain/user\";\r\nimport {Router} from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.sass']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  private loginControl: FormGroup;\r\n  private signUpControl: FormGroup;\r\n  private selectedTabIndex: number; //0 for login, 1 for signUp\r\n\r\n  constructor(private loginService: LoginService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.loginControl = new FormGroup(\r\n      {\r\n        username: new FormControl('', [Validators.required, Validators.maxLength(30)]),\r\n        password: new FormControl('', [Validators.required, Validators.maxLength(30)])\r\n      }\r\n    );\r\n\r\n    this.signUpControl = new FormGroup(\r\n      {\r\n        username: new FormControl('', [Validators.required, Validators.maxLength(30)]),\r\n        password: new FormControl('', [Validators.required, Validators.maxLength(30)])\r\n      }\r\n    );\r\n    this.selectedTabIndex = 0; //Set login tab\r\n\r\n  }\r\n\r\n  private login(loginData: any): void {\r\n    this.loginService.login(new User(loginData.username, loginData.password, false))\r\n      .subscribe(\r\n      //Go back to map view\r\n      (loggedUser: User) => this.router.navigateByUrl(\"/map\")\r\n    );\r\n  }\r\n\r\n  private signUp(signUpData: any): void {\r\n    this.loginService.signUp(new User(signUpData.username, signUpData.password, false)).subscribe();\r\n    this.selectedTabIndex = 0;\r\n    //TODO: show user creation popup\r\n    //Allow quick login after signUp and reset signUp form\r\n    this.loginControl.get(\"username\").setValue(signUpData.username);\r\n    this.loginControl.get(\"password\").setValue(signUpData.password);\r\n    this.signUpControl.get(\"username\").setValue(\"\");\r\n    this.signUpControl.get(\"password\").setValue(\"\");\r\n  }\r\n\r\n}\r\n","module.exports = \"<div>\\r\\n  <app-poi-filter (filterChange)=\\\"filterPOIs($event)\\\" fxFlex=\\\"75%\\\"></app-poi-filter>\\r\\n  <mat-card fxFlex>\\r\\n    <button mat-flat-button color=\\\"accent\\\" routerLink=\\\"/suggestion/category/new\\\">Suggest a new category</button>\\r\\n  </mat-card>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"map\\\" class=\\\"map\\\"\\r\\n     leaflet\\r\\n     [leafletOptions]=\\\"initialSetup\\\"\\r\\n     [leafletLayersControl]=\\\"layersControl\\\"\\r\\n     (leafletMapReady)=\\\"onMapReady($event)\\\"\\r\\n     (leafletClick)=\\\"showSavePOIPopup($event.latlng)\\\">\\r\\n\\r\\n  <div *ngFor=\\\"let l of layers\\\" [leafletLayer]=\\\"l\\\"></div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"addingNewPOI\\\">\\r\\n  <app-add-marker-form [marker]=\\\"this.newMarker\\\"\\r\\n                       (addedPOI)=\\\"onPOIAdd($event)\\\"\\r\\n                       (cancelPOI)=\\\"hideNewPOIForm()\\\"\\r\\n                       #addMarkerComponent> </app-add-marker-form>\\r\\n</div>\\r\\n\"","module.exports = \".map {\\n  height: 50%;\\n  padding: 0;\\n  margin: 10px; }\\n\\n.leaflet-popup-content-wrapper {\\n  background-color: #e56d68;\\n  opacity: .8;\\n  width: 200px; }\\n\\n.leaflet-popup-tip {\\n  background-color: #e5e5e5;\\n  opacity: .8; }\\n\\n.leaflet-popup-content {\\n  color: #191900;\\n  text-align: left;\\n  font-family: 'Roboto Slab', serif;\\n  font-size: 12px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFwL0M6XFxVc2Vyc1xcbmx1Y2VcXERvY3VtZW50c1xcR29cXHNyY1xcZ2l0aHViLmNvbVxcbmljb2x1Y2VcXGFycXdlYi9zcmNcXGFwcFxcbWFwXFxtYXAuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gsVUFBVTtFQUNWLFlBQVksRUFBQTs7QUFPZDtFQUNFLHlCQUF5QjtFQUN6QixXQUFXO0VBRVgsWUFBWSxFQUFBOztBQUdkO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVcsRUFBQTs7QUFHYjtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsaUNBQWlDO0VBQ2pDLGVBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21hcC9tYXAuY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFwIHtcbiAgaGVpZ2h0OiA1MCU7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMTBweDsgfVxuXG4vLy5oMywgLmgyXG4vLyAgbWFyZ2luLXRvcDogMFxuLy8gIG1hcmdpbi1ib3R0b206IDBcbi8vICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZVxuXG4ubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTU2ZDY4O1xuICBvcGFjaXR5OiAuODtcblxuICB3aWR0aDogMjAwcHg7IH1cblxuXG4ubGVhZmxldC1wb3B1cC10aXAge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xuICBvcGFjaXR5OiAuODsgfVxuXG5cbi5sZWFmbGV0LXBvcHVwLWNvbnRlbnQge1xuICBjb2xvcjogIzE5MTkwMDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8gU2xhYicsIHNlcmlmO1xuICBmb250LXNpemU6IDEycHg7IH1cbiJdfQ== */\"","import {ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\r\nimport * as L from \"leaflet\";\r\nimport {icon, LatLng, latLng, Layer, LeafletMouseEvent, Map, marker, Marker, tileLayer} from \"leaflet\";\r\nimport {PointOfInterest} from \"../domain/point-of-interest\";\r\nimport {AddMarkerFormComponent} from \"../add-marker-form/add-marker-form.component\";\r\nimport {PoiService} from \"../service/poi.service\";\r\n\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.sass']\r\n})\r\nexport class MapComponent implements OnInit {\r\n\r\n  wMaps = tileLayer('http://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png', {\r\n    detectRetina: true,\r\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n  });\r\n\r\n  streetMaps = tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    detectRetina: true,\r\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n  });\r\n\r\n  initialSetup: object;\r\n\r\n  //Control base layers and overlays\r\n  layersControl: object;\r\n\r\n  layers: Layer[];\r\n\r\n  addingNewPOI = false;\r\n\r\n  newMarker: Marker;\r\n\r\n  private addMarkerComponent: AddMarkerFormComponent;\r\n  private map: Map;\r\n  private static setMarkerIconUrl = 'leaflet/marker-icon.png';\r\n  private static setMarkerShadowUrl = 'leaflet/marker-shadow.png';\r\n\r\n\r\n  //Use @ViewChild to inject child component. Using setter\r\n  //because of the *ngIf in the html template.\r\n  @ViewChild('addMarkerComponent') set markerComponent(addMarkerComponent: AddMarkerFormComponent) {\r\n    this.addMarkerComponent = addMarkerComponent;\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  constructor(private cdRef:ChangeDetectorRef, private poiService: PoiService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initialSetup = {\r\n      layers: [\r\n        this.streetMaps\r\n      ],\r\n      zoom: 15,\r\n      center: latLng([ -34.581199, -58.421058 ])\r\n    };\r\n\r\n    this.layersControl= {\r\n      baseLayers: {\r\n        \"Street\": this.streetMaps,\r\n        \"Wikimedia\": this.wMaps\r\n      },\r\n      overlays: {}\r\n    };\r\n\r\n    this.layers = [];\r\n  }\r\n\r\n  onMapReady(map: Map) {\r\n    this.map = map;\r\n    this.poiService.Search(null, null, 20,\r\n      this.map.getBounds(), false).subscribe(\r\n      (POIs: PointOfInterest[]) => {\r\n        let layers = [];\r\n        POIs.forEach((POI: PointOfInterest) => {\r\n          layers.push(MapComponent.POIToMarker(POI))\r\n        });\r\n        this.layers = layers;\r\n      }\r\n    );\r\n  }\r\n\r\n  showSavePOIPopup(latLong: LatLng) {\r\n    if (this.addingNewPOI) {\r\n      //Remove last marker\r\n      this.layers.pop();\r\n    }\r\n\r\n    let newMarker = marker(latLong, {\r\n      icon: icon({\r\n        iconSize: [ 25, 41 ],\r\n        iconAnchor: [ 13, 41 ],\r\n        iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\r\n        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n      }),\r\n      clickable: true,\r\n      draggable: true,\r\n      riseOnHover: true\r\n    });\r\n    this.layers.push(newMarker);\r\n    this.newMarker = newMarker;\r\n\r\n    //Zoom on marker when clicked\r\n    this.newMarker.on(\"click\", function (me: LeafletMouseEvent) {\r\n      let latLng = [me.latlng];\r\n      // noinspection JSPotentiallyInvalidUsageOfClassThis\r\n      this.map.fitBounds(L.latLngBounds(latLng), {maxZoom: 15})\r\n    },{map: this.map});\r\n\r\n    this.addingNewPOI = true;\r\n    //Subscribes add-marker component to the new marker to track coordinates\r\n    //SetTimeout is used to give time for the @ViewChild to set the component\r\n    //after the *ngIf activation\r\n    setTimeout(() => this.addMarkerComponent.resetPOIForm(), 1);\r\n    //Set map on top of screen to give more space to the add POI form\r\n    setTimeout(() => document.getElementById(\"map\").scrollIntoView(true), 100);\r\n\r\n  }\r\n\r\n  hideNewPOIForm(removeLastLayer = true) {\r\n    this.addingNewPOI = false;\r\n    if (removeLastLayer) {\r\n      this.layers.pop();\r\n    }\r\n  }\r\n\r\n  onPOIAdd(savedPOI: PointOfInterest) {\r\n    this.hideNewPOIForm(false);\r\n    this.newMarker.bindPopup(<string>MapComponent.markerPopupHtml(savedPOI), {maxWidth: 700, className: 'popup'});\r\n    this.newMarker.dragging.disable();\r\n    let newIcon = icon({\r\n      iconUrl: MapComponent.setMarkerIconUrl,\r\n      shadowUrl: MapComponent.setMarkerShadowUrl\r\n    });\r\n    this.newMarker.setIcon(newIcon);\r\n\r\n  }\r\n\r\n  static markerPopupHtml(POI: PointOfInterest): string {\r\n    let html: string = ` \r\n<head>\r\n    <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\" integrity=\"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\" crossorigin=\"anonymous\">\r\n</head>\r\n<h2>${this.toTitleCase(POI.title)}</h2>\r\n<h3>${this.toTitleCase(POI.category.name)} <i class=\"${POI.category.iconClass}\"></i></h3>  \r\n<p>Description: ${POI.description}</p>\r\n`;\r\n    if (POI.picture.data) {\r\n      html = html + `<img src=\"data:${POI.picture.contentType};base64, ${POI.picture.data}\" style=\"width: 100px\" style=\"height: 45px\" \"/>`\r\n    }\r\n    return html;\r\n  }\r\n\r\n  private static toTitleCase(str: string): string {\r\n    if (str) {\r\n      return str.replace(\r\n        /\\w\\S*/g,\r\n        function (txt) {\r\n          return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n        }\r\n      );\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Filters the layers in the map.\r\n   *\r\n   * @param poiFilters object with the values from {@link POIFilterComponent#filtersControl}.\r\n   */\r\n  private filterPOIs(poiFilters: any) {\r\n    let category = poiFilters.category;\r\n    let title = poiFilters.title;\r\n    let markerLimit = 20; //Arbitrary marker limit\r\n    let bounds = this.map.getBounds();\r\n\r\n    this.layers = [];\r\n    this.poiService.Search(title, category, markerLimit, bounds, false).subscribe(\r\n      (searchResult: PointOfInterest[]) => searchResult.forEach(\r\n        (POI: PointOfInterest) => {\r\n          this.layers.push(MapComponent.POIToMarker(POI))\r\n        }, this\r\n      )\r\n    );\r\n  }\r\n\r\n\r\n  public static POIToMarker(POI: PointOfInterest): Marker {\r\n    let marker = new Marker([POI.lat, POI.long],\r\n      {\r\n        draggable: false,\r\n        clickable: true,\r\n        riseOnHover: true,\r\n        icon: icon({\r\n          iconSize: [ 25, 41 ],\r\n          iconAnchor: [ 13, 41 ],\r\n          iconUrl: this.setMarkerIconUrl,\r\n          shadowUrl: this.setMarkerShadowUrl,\r\n        }),\r\n        title: POI.title\r\n      });\r\n\r\n    marker.bindPopup(<string>MapComponent.markerPopupHtml(POI), {maxWidth: 700, className: 'popup'});\r\n\r\n    return marker\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {BrowserAnimationsModule} from \"@angular/platform-browser/animations\";\r\nimport {\r\n  MatAutocompleteModule,\r\n  MatButtonModule,\r\n  MatCardModule, MatCheckboxModule,\r\n  MatFormFieldModule, MatIconModule,\r\n  MatInputModule, MatListModule, MatMenuModule, MatNavList,\r\n  MatSelectModule, MatSidenavModule, MatTableModule, MatTabsModule, MatToolbarModule\r\n} from \"@angular/material\";\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    BrowserAnimationsModule,\r\n    MatSelectModule,\r\n    MatFormFieldModule,\r\n    MatButtonModule,\r\n    MatInputModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatAutocompleteModule,\r\n    MatToolbarModule,\r\n    MatTabsModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    MatSidenavModule,\r\n    MatListModule,\r\n    MatCheckboxModule\r\n  ],\r\n  exports: [\r\n    BrowserAnimationsModule,\r\n    MatSelectModule,\r\n    MatFormFieldModule,\r\n    MatButtonModule,\r\n    MatInputModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatAutocompleteModule,\r\n    MatToolbarModule,\r\n    MatTabsModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    MatSidenavModule,\r\n    MatListModule,\r\n    MatCheckboxModule\r\n\r\n  ]\r\n})\r\nexport class MaterialModule { }\r\n","module.exports = \"<mat-toolbar color=\\\"primary\\\">\\r\\n\\r\\n  <a *ngIf=\\\"loggedUser && loggedUser.isAdmin\\\" (click)=\\\"toggleSidenav()\\\" class=\\\"sidenav-toggle\\\">\\r\\n    <mat-icon>build</mat-icon>\\r\\n  </a>\\r\\n\\r\\n  <span>\\r\\n    <a routerLink=\\\"/map\\\" class=\\\"home\\\"> {{appTitle}}</a>\\r\\n  </span>\\r\\n\\r\\n  <span fxFlex fxLayoutAlign=\\\"end\\\">\\r\\n    <div *ngIf=\\\"!loggedUser\\\">\\r\\n      <span>\\r\\n        <a routerLink=\\\"/login\\\" class=\\\"login\\\">Login</a>\\r\\n      </span>\\r\\n      <span>\\r\\n        <a class=\\\"login\\\" (click)=\\\"logAdmin()\\\">Log admin</a>\\r\\n      </span>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"loggedUser\\\">\\r\\n      <a [matMenuTriggerFor]=\\\"menu\\\" class=\\\"logout\\\">\\r\\n          <span>\\r\\n            {{loggedUser.username}}\\r\\n            <mat-icon style=\\\"margin-bottom: 0\\\">account_circle</mat-icon>\\r\\n          </span>\\r\\n      </a>\\r\\n      <mat-menu #menu=\\\"matMenu\\\" xPosition=\\\"before\\\" >\\r\\n        <a mat-menu-item (click)=\\\"logOut()\\\">\\r\\n          <mat-icon>exit_to_app</mat-icon>\\r\\n          <span>Logout</span>\\r\\n        </a>\\r\\n      </mat-menu>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </span>\\r\\n</mat-toolbar>\\r\\n\"","module.exports = \".login, .login:visited {\\n  color: white;\\n  text-decoration: none;\\n  margin: 1em;\\n  cursor: pointer; }\\n\\n.login:hover {\\n  color: black; }\\n\\n.home {\\n  color: white;\\n  text-decoration: none; }\\n\\n.logout {\\n  cursor: pointer; }\\n\\n.sidenav-toggle {\\n  margin-right: 1em;\\n  cursor: pointer; }\\n\\n.mat-icon {\\n  vertical-align: middle; }\\n\\n.icon-text {\\n  display: flex;\\n  align-items: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmF2aWdhdGlvbi10b29sYmFyL0M6XFxVc2Vyc1xcbmx1Y2VcXERvY3VtZW50c1xcR29cXHNyY1xcZ2l0aHViLmNvbVxcbmljb2x1Y2VcXGFycXdlYi9zcmNcXGFwcFxcbmF2aWdhdGlvbi10b29sYmFyXFxuYXZpZ2F0aW9uLXRvb2xiYXIuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLFdBQVc7RUFDWCxlQUFlLEVBQUE7O0FBRWpCO0VBQ0UsWUFBWSxFQUFBOztBQUVkO0VBQ0UsWUFBWTtFQUNaLHFCQUFxQixFQUFBOztBQUV2QjtFQUNFLGVBQWUsRUFBQTs7QUFFakI7RUFDRSxpQkFBaUI7RUFDakIsZUFBZSxFQUFBOztBQUVqQjtFQUNFLHNCQUFzQixFQUFBOztBQUV4QjtFQUNFLGFBQWE7RUFDYixtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL25hdmlnYXRpb24tdG9vbGJhci9uYXZpZ2F0aW9uLXRvb2xiYXIuY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4sIC5sb2dpbjp2aXNpdGVkIHtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIG1hcmdpbjogMWVtO1xuICBjdXJzb3I6IHBvaW50ZXI7IH1cblxuLmxvZ2luOmhvdmVyIHtcbiAgY29sb3I6IGJsYWNrOyB9XG5cbi5ob21lIHtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH1cblxuLmxvZ291dCB7XG4gIGN1cnNvcjogcG9pbnRlcjsgfVxuXG4uc2lkZW5hdi10b2dnbGUge1xuICBtYXJnaW4tcmlnaHQ6IDFlbTtcbiAgY3Vyc29yOiBwb2ludGVyOyB9XG5cbi5tYXQtaWNvbiB7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IH1cblxuLmljb24tdGV4dCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiJdfQ== */\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {LoginService} from \"../service/login.service\";\r\nimport {User} from \"../domain/user\";\r\nimport {Router} from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: 'app-navigation-toolbar',\r\n  templateUrl: './navigation-toolbar.component.html',\r\n  styleUrls: ['./navigation-toolbar.component.sass']\r\n})\r\nexport class NavigationToolbarComponent implements OnInit {\r\n  appTitle = 'Map Ui';\r\n  loggedUser: User;\r\n  @Output() sidenavToggled = new EventEmitter();\r\n\r\n  constructor(private loginService: LoginService, private router: Router) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    //Remember logged user\r\n    this.loginService.getLoggedUser().subscribe(\r\n      (loggedUser: User) => {\r\n        this.loggedUser = loggedUser;\r\n      },\r\n    );\r\n\r\n    //Subscribe to new logins\r\n    this.loginService.userLogged.subscribe(\r\n      (loggedUser: User) => {\r\n        this.loggedUser = loggedUser;\r\n      }\r\n    );\r\n\r\n    //Subscribe to logouts\r\n    this.loginService.userLoggedOut.subscribe(\r\n      () => {\r\n        this.loggedUser = null;\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  private logOut(): void {\r\n    this.loginService.logOut();\r\n    this.router.navigateByUrl(\"/\");\r\n  }\r\n\r\n  //TODO: delete\r\n  private logAdmin() {\r\n    this.loginService.signUp(new User(\"Fernet\", \"pass\", true)).subscribe(\r\n      () => {\r\n        this.loginService.login(new User(\"Fernet\", \"pass\", null)).subscribe(\r\n          () => this.router.navigateByUrl(\"/\")\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  private toggleSidenav() {\r\n    this.sidenavToggled.emit();\r\n  }\r\n}\r\n","module.exports = \"<head>\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\\\" integrity=\\\"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\\\" crossorigin=\\\"anonymous\\\">\\r\\n</head>\\r\\n\\r\\n<mat-card fxLayout=\\\"column\\\" fxLayoutGap=\\\"20px\\\">\\r\\n  <mat-card-header>\\r\\n    <mat-card-title>Suggest a category</mat-card-title>\\r\\n  </mat-card-header>\\r\\n\\r\\n  <mat-card-content>\\r\\n    <form [formGroup]=\\\"categorySuggestionFrom\\\" (ngSubmit)=\\\"suggestNewCategory(categorySuggestionFrom.value)\\\"\\r\\n          fxLayout=\\\"column\\\" fxFlex=\\\"100%\\\" fxFlex.lt-md=\\\"100%\\\">\\r\\n\\r\\n      <mat-card-content fxLayoutAlign=\\\"center center\\\" fxLayoutGap=\\\"20px\\\">\\r\\n        <mat-form-field>\\r\\n          <input matInput type=\\\"text\\\" placeholder=\\\"Name\\\" required formControlName=\\\"name\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n        <div fxLayout fxLayoutGap=\\\"20px\\\">\\r\\n          <mat-checkbox formControlName=\\\"hidden\\\">Hide</mat-checkbox>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"input-group\\\" fxFlex=\\\"30%\\\">\\r\\n          <div class=\\\"input-group-text\\\">\\r\\n            <i [ngClass]=\\\"categorySuggestionFrom.value.iconClass\\\"></i>\\r\\n          </div>\\r\\n          <input type=\\\"text\\\" name=\\\"iconClass\\\" class=\\\"form-control\\\" placeholder=\\\"Icon\\\" formControlName=\\\"iconClass\\\"\\r\\n                 [iconPicker]=\\\"\\\"\\r\\n                 [ipWidth]=\\\"'250px'\\\"\\r\\n                 [ipPlaceHolder]=\\\"'Search an icon'\\\"\\r\\n                 [ipPosition]=\\\"'bottom'\\\"\\r\\n                 [ipIconPack]=\\\"['fa5']\\\"\\r\\n                 [ipFallbackIcon]=\\\"'fas fa-question-circle'\\\"\\r\\n                 (iconPickerSelect)=\\\"onIconPickerSelect($event)\\\"  >\\r\\n        </div>\\r\\n\\r\\n      </mat-card-content>\\r\\n\\r\\n      <mat-card-actions align=\\\"center\\\">\\r\\n        <button mat-raised-button color=\\\"primary\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"!categorySuggestionFrom.valid\\\">Add</button>\\r\\n        <button mat-raised-button color=\\\"warn\\\" (click)=\\\"cancelNewCategorySuggestion()\\\">Back</button>\\r\\n      </mat-card-actions>\\r\\n\\r\\n    </form>\\r\\n\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25ldy1jYXRlZ29yeS1zdWdnZXN0aW9uLWZvcm0vbmV3LWNhdGVnb3J5LXN1Z2dlc3Rpb24tZm9ybS5jb21wb25lbnQuc2FzcyJ9 */\"","import {Component, OnInit} from '@angular/core';\r\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\r\nimport {PoiService} from \"../service/poi.service\";\r\nimport {CategorySuggestion, SuggestionStatus} from \"../domain/category-suggestion\";\r\nimport {Category} from \"../domain/category\";\r\nimport {Location} from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: 'app-new-category-suggestion-form',\r\n  templateUrl: './new-category-suggestion-form.component.html',\r\n  styleUrls: ['./new-category-suggestion-form.component.sass']\r\n})\r\nexport class NewCategorySuggestionFormComponent implements OnInit {\r\n\r\n  private categorySuggestionFrom: FormGroup;\r\n\r\n  constructor(private poiService: PoiService, private location: Location) { }\r\n\r\n  ngOnInit() {\r\n    this.categorySuggestionFrom = new FormGroup(\r\n      {\r\n        name: new FormControl('', [Validators.required, Validators.maxLength(30)]),\r\n        hidden: new FormControl(false, [Validators.required, Validators.maxLength(30)]),\r\n        iconClass: new FormControl('', [Validators.required, Validators.maxLength(30)])\r\n      }\r\n    )\r\n  }\r\n\r\n  onIconPickerSelect(newIcon: string): void {\r\n    this.categorySuggestionFrom.get(\"iconClass\").setValue(newIcon);\r\n  }\r\n\r\n  suggestNewCategory(categorySuggestionFrom: any): void {\r\n    let newCategorySuggestion = new CategorySuggestion(\r\n      new Category(null, categorySuggestionFrom.name, categorySuggestionFrom.hidden,\r\n        categorySuggestionFrom.iconClass),\r\n      SuggestionStatus.WAITING_FOR_APPROVAL\r\n    );\r\n\r\n    this.poiService.sendCategorySuggestion(newCategorySuggestion).subscribe(()=>{});\r\n  }\r\n\r\n  cancelNewCategorySuggestion(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","module.exports = \"<mat-card>\\r\\n  <mat-card-title>Filters</mat-card-title>\\r\\n\\r\\n  <mat-card-content>\\r\\n\\r\\n    <form [formGroup]=\\\"filtersControl\\\" (ngSubmit)=\\\"updateFilters(filtersControl.value)\\\">\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input type=\\\"text\\\" placeholder=\\\"Title\\\" matInput formControlName=\\\"title\\\">\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input type=\\\"text\\\" placeholder=\\\"Category\\\" aria-label=\\\"Number\\\" matInput formControlName=\\\"category\\\" [matAutocomplete]=\\\"auto\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let option of filteredCategoryOptions | async\\\" [value]=\\\"option\\\">\\r\\n            {{option}}\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!filtersControl.valid\\\"> Filter </button>\\r\\n\\r\\n    </form>\\r\\n  </mat-card-content>\\r\\n\\r\\n</mat-card>\\r\\n\"","module.exports = \".mat-form-field {\\n  margin: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcG9pLWZpbHRlci9DOlxcVXNlcnNcXG5sdWNlXFxEb2N1bWVudHNcXEdvXFxzcmNcXGdpdGh1Yi5jb21cXG5pY29sdWNlXFxhcnF3ZWIvc3JjXFxhcHBcXHBvaS1maWx0ZXJcXHBvaS1maWx0ZXIuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wb2ktZmlsdGVyL3BvaS1maWx0ZXIuY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW46IDEwcHg7IH1cbiJdfQ== */\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {Observable} from 'rxjs';\r\nimport {map, startWith} from 'rxjs/operators';\r\n\r\n/**\r\n * @title Filter autocomplete\r\n */\r\n@Component({\r\n  selector: 'app-poi-filter',\r\n  templateUrl: './poi-filter.component.html',\r\n  styleUrls: ['./poi-filter.component.sass'],\r\n})\r\nexport class POIFilterComponent implements OnInit {\r\n  filtersControl: FormGroup;\r\n  availableCategories: string[] = ['Any', 'Food', 'Entertainment', 'Art', 'Museum'];\r\n  filteredCategoryOptions: Observable<string[]>;\r\n  @Output() filterChange: EventEmitter<string> = new EventEmitter();\r\n\r\n  ngOnInit() {\r\n    this.filtersControl = new FormGroup({\r\n      title: new FormControl(\"Any\", [Validators.maxLength(30)]),\r\n      category: new FormControl(\"Any\", [Validators.required, Validators.maxLength(30)])\r\n    });\r\n\r\n    this.filteredCategoryOptions = this.filtersControl.get(\"category\").valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => this._filter(value))\r\n      );\r\n  }\r\n\r\n  private _filter(value: string): string[] {\r\n    const filterValue = value.toLowerCase();\r\n\r\n    return this.availableCategories.filter(option => option.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  //Only emits category, but could be extended with other filters\r\n  private updateFilters(filtersControl: any) {\r\n    this.filterChange.emit(filtersControl)\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  CanActivate,\r\n  CanActivateChild,\r\n  Router,\r\n  RouterStateSnapshot,\r\n  UrlTree\r\n} from \"@angular/router\";\r\nimport {Observable} from \"rxjs\";\r\nimport {LoginService} from \"./login.service\";\r\nimport {User} from \"../domain/user\";\r\n\r\n/**\r\n * Protects urls from accessing without permission.\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuardService implements CanActivate, CanActivateChild {\r\n\r\n  private adminUrls = [\"/administration/edit/poi\", \"/administration/edit/category\",\r\n    \"/administration/suggestion/category/new\"];\r\n\r\n  constructor(private loginService: LoginService, private router: Router) { }\r\n\r\n  public canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\r\n    Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n\r\n    if (this.adminUrls.includes(state.url)) {\r\n      let isAdmin: boolean = false;\r\n      this.loginService.getLoggedUser().subscribe(\r\n        (loggedUser: User) => {\r\n          isAdmin = loggedUser.isAdmin;\r\n        }\r\n      );\r\n      if (!isAdmin) {\r\n        return this.router.parseUrl(\"/\"); //Redirect to home\r\n      } else {\r\n        return true; //Allow entry to backoffice\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\r\n    Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n\r\n    if (this.adminUrls.includes(state.url)) {\r\n      let isAdmin: boolean = false;\r\n      this.loginService.getLoggedUser().subscribe(\r\n        (loggedUser: User) => {\r\n          isAdmin = loggedUser.isAdmin;\r\n        }\r\n      );\r\n      if (!isAdmin) {\r\n        return this.router.parseUrl(\"/\"); //Redirect to home\r\n      } else {\r\n        return true; //Allow entry to backoffice\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n","import {EventEmitter, Injectable, Output} from '@angular/core';\r\nimport {User} from \"../domain/user\";\r\nimport {EMPTY, Observable, of, throwError} from \"rxjs\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {environment} from \"../../environments/environment\";\r\nimport {catchError, tap} from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n\r\n  @Output() userLogged = new EventEmitter<User>();\r\n  @Output() userLoggedOut = new EventEmitter<User>();\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  private loggedUserKey = \"loggedUser\";\r\n\r\n  public login(user: User): Observable<User> {\r\n    return this.http.post<User>(environment.baseUrl + \"/user/login\", user).pipe(\r\n      catchError((err) => {\r\n        console.log(\"Login error\");\r\n        return throwError(err);\r\n      }),\r\n      tap((loggedUser: User) => {\r\n        window.localStorage.setItem(this.loggedUserKey, JSON.stringify(loggedUser));\r\n        this.userLogged.emit(loggedUser);\r\n        return of(loggedUser);\r\n      })\r\n    );\r\n  }\r\n\r\n  public signUp(user: User): Observable<User> {\r\n    return this.http.post<User>(environment.baseUrl + \"/user/signup\", user).pipe(\r\n      catchError(\r\n        (err) => {\r\n          console.log(\"Signup error\");\r\n          return throwError(err);\r\n        }\r\n      ));\r\n  }\r\n\r\n  public logOut(): void {\r\n    let user = <User>JSON.parse(window.localStorage.getItem(this.loggedUserKey));\r\n    window.localStorage.removeItem(this.loggedUserKey);\r\n    this.userLoggedOut.emit(user); //Emit who logged out\r\n  }\r\n\r\n  public getLoggedUser(): Observable<User> {\r\n    let loggedUserJson = window.localStorage.getItem(this.loggedUserKey);\r\n    if (loggedUserJson) {\r\n      let parsedJson = <User>JSON.parse(loggedUserJson);\r\n      return of(new User(parsedJson.username, parsedJson.password, parsedJson.isAdmin));\r\n    } else {\r\n      return EMPTY;\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {Image, PointOfInterest} from \"../domain/point-of-interest\";\r\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\r\nimport {Feature} from \"geojson\";\r\nimport {environment} from \"../../environments/environment\";\r\nimport {LatLngBounds} from \"leaflet\";\r\nimport {Observable, of} from \"rxjs\";\r\nimport {Category} from \"../domain/category\";\r\nimport {CategorySuggestion, SuggestionStatus} from \"../domain/category-suggestion\";\r\nimport {map, take} from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PoiService {\r\n  private http: HttpClient;\r\n\r\n  constructor(http: HttpClient) {\r\n    this.http = http;\r\n  }\r\n\r\n  //Saves the POI in the backend\r\n  public savePOI(POI: PointOfInterest): Observable<PointOfInterest> {\r\n    let POIGeoJSON = PoiService.POIToGeoJSON(POI);\r\n    return this.http.post<PointOfInterest>(environment.baseUrl + \"/poi\", POIGeoJSON);\r\n  }\r\n\r\n  //Converts a POI to a GeoJSON\r\n  private static POIToGeoJSON(POI: PointOfInterest): Feature {\r\n    return {\r\n      type: \"Feature\",\r\n      geometry: {\r\n        type: \"Point\",\r\n        coordinates: [POI.lat, POI.long]\r\n      },\r\n      properties: {\r\n        \"title\": POI.title,\r\n        \"category\": POI.category.name,\r\n        \"description\": POI.description,\r\n        \"picture\": {\r\n          \"data\": POI.picture.data,\r\n          \"name\": POI.picture.name,\r\n          \"contentType\": POI.picture.contentType\r\n        },\r\n        \"hidden\": POI.hidden\r\n      }\r\n    };\r\n\r\n  }\r\n\r\n  public Search(title?: string, categoryName?: string, markerLimit?: number, bounds?: LatLngBounds,\r\n         showHiddenCategories?: boolean): Observable<PointOfInterest[]> {\r\n\r\n    let queryParams = new HttpParams();\r\n\r\n    if (title && !(title === \"Any\")) {\r\n      queryParams = queryParams.append(\"title\", title);\r\n    }\r\n\r\n    if (markerLimit) {\r\n      queryParams = queryParams.append(\"limit\", String(markerLimit));\r\n    }\r\n\r\n    if (categoryName && !(categoryName === \"Any\")) {\r\n      queryParams = queryParams.append(\"categoryName\", categoryName)\r\n    }\r\n\r\n    if (bounds) {\r\n      let westLong = bounds.getWest();\r\n      let eastLong = bounds.getEast();\r\n      let northLat = bounds.getNorth();\r\n      let southLat = bounds.getSouth();\r\n      queryParams = queryParams.append(\"west_long\", String(westLong));\r\n      queryParams = queryParams.append(\"east_long\", String(eastLong));\r\n      queryParams = queryParams.append(\"north_lat\", String(northLat));\r\n      queryParams = queryParams.append(\"south_lat\", String(southLat));\r\n      queryParams = queryParams.append(\"bound\", String(true));\r\n    }\r\n\r\n    if (showHiddenCategories) {\r\n      queryParams = queryParams.append(\"hidden\", String(true));\r\n    }\r\n\r\n    return this.http.get<PointOfInterest[]>(environment.baseUrl + \"/poi/search\",\r\n      {params: queryParams});\r\n\r\n  }\r\n\r\n  public updatePOI(POI: PointOfInterest): Observable<PointOfInterest> {\r\n    let poiBody = {\r\n      id: POI.id,\r\n      title: POI.title,\r\n      category: POI.category.name, //Send name instead of object\r\n      description: POI.description,\r\n      picture: {\r\n        data: POI.picture.data,\r\n        name: POI.picture.name,\r\n        contentType: POI.picture.contentType\r\n      },\r\n      hidden: POI.hidden,\r\n      lat: POI.lat,\r\n      long: POI.long\r\n    };\r\n    return this.http.put<PointOfInterest>(environment.baseUrl +  `/poi/${POI.id}`, poiBody);\r\n  }\r\n\r\n  public getCategories(): Observable<Category[]> {\r\n    return this.http.get<Category[]>(environment.baseUrl + \"/categories\")\r\n  }\r\n\r\n  public getCategory(name: string): Observable<Category[]> {\r\n    let queryParams = new HttpParams();\r\n    queryParams = queryParams.append(\"name\", name);\r\n    return this.http.get<Category[]>(\r\n      environment.baseUrl + `/categories/search`, {params: queryParams});\r\n  }\r\n\r\n  public updateCategory(category: Category): Observable<Category> {\r\n    return this.http.put<Category>(environment.baseUrl + `/category/${category.id}`, category)\r\n  }\r\n\r\n  deleteCategory(categoryName: string): Observable<Category> {\r\n    return this.http.delete<Category>(environment.baseUrl + `/category/${categoryName}`)\r\n  }\r\n\r\n  sendCategorySuggestion(categorySuggestion: CategorySuggestion): Observable<CategorySuggestion> {\r\n    let suggestion = {\r\n      name: categorySuggestion.category.name,\r\n      hidden: categorySuggestion.category.hidden,\r\n      iconClass: categorySuggestion.category.iconClass,\r\n      status: SuggestionStatus[categorySuggestion.status]\r\n    };\r\n    return this.http.post<CategorySuggestion>(environment.baseUrl + \"/suggestions/categories/new\", suggestion);\r\n  }\r\n\r\n  getPendingCategorySuggestions(): Observable<CategorySuggestion[]> {\r\n    return this.http.get(environment.baseUrl + \"/suggestions/categories/new\").pipe(\r\n      (take (10)),\r\n      map((suggestionDtoList: any[]) =>{\r\n        let suggestions: CategorySuggestion[] = [];\r\n        suggestionDtoList.forEach((suggestionDto) => {\r\n          let category: Category = new Category(null, suggestionDto.name, suggestionDto.hidden, suggestionDto.iconClass);\r\n          let newSuggestion: CategorySuggestion = new CategorySuggestion(category, suggestionDto.status);\r\n          newSuggestion.id = suggestionDto.id;\r\n          suggestions.push(newSuggestion);\r\n        });\r\n        return suggestions;\r\n      })\r\n    );\r\n  }\r\n\r\n  approveSuggestion(suggestion: CategorySuggestion): Observable<any> {\r\n    return this.http.put(environment.baseUrl + `/suggestions/categories/new/${suggestion.id}/approve`, null);\r\n  }\r\n\r\n  rejectSuggestion(suggestion: CategorySuggestion): Observable<any> {\r\n    return this.http.put(environment.baseUrl + `/suggestions/categories/new/${suggestion.id}/reject`, null);\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<mat-nav-list>\\r\\n  <a mat-list-item routerLink=\\\"/administration/edit/poi\\\" (click)=\\\"onSidenavClose()\\\">\\r\\n    <mat-icon>pin_drop</mat-icon> <span class=\\\"sidenav-content\\\">Edit POI</span>\\r\\n  </a>\\r\\n\\r\\n  <a mat-list-item routerLink=\\\"/administration/edit/category\\\" (click)=\\\"onSidenavClose()\\\">\\r\\n    <mat-icon>category</mat-icon> <span class=\\\"sidenav-content\\\">Edit category</span>\\r\\n  </a>\\r\\n\\r\\n  <a mat-list-item routerLink=\\\"/administration/suggestion/category/new\\\" (click)=\\\"onSidenavClose()\\\">\\r\\n    <mat-icon>check_circle</mat-icon> <span class=\\\"sidenav-content\\\">Category suggestions</span>\\r\\n  </a>\\r\\n\\r\\n</mat-nav-list>\\r\\n\"","module.exports = \".sidenav-content {\\n  padding-left: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lkZW5hdi9DOlxcVXNlcnNcXG5sdWNlXFxEb2N1bWVudHNcXEdvXFxzcmNcXGdpdGh1Yi5jb21cXG5pY29sdWNlXFxhcnF3ZWIvc3JjXFxhcHBcXHNpZGVuYXZcXHNpZGVuYXYuY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NpZGVuYXYvc2lkZW5hdi5jb21wb25lbnQuc2FzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWRlbmF2LWNvbnRlbnQge1xuICBwYWRkaW5nLWxlZnQ6IDVweDsgfVxuIl19 */\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-sidenav',\r\n  templateUrl: './sidenav.component.html',\r\n  styleUrls: ['./sidenav.component.sass']\r\n})\r\nexport class SidenavComponent implements OnInit {\r\n\r\n  @Output() sidenavClose = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onSidenavClose() {\r\n    this.sidenavClose.emit();\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  baseUrl: \"/api\"\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import 'hammerjs';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}